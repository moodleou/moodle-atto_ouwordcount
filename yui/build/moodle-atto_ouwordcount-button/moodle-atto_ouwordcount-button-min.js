YUI.add("moodle-atto_ouwordcount-button",function(e,t){var n="atto_ouwordcount";e.namespace("M.atto_ouwordcount").Button=e.Base.create("button",e.M.editor_atto.EditorPlugin,[],{_wordCount:null,initializer:function(){if(!this.get("capability"))return;var e=document.createElement("div");e.setAttribute("class","ou_word_count"),this._wordCount=document.createElement("span"),e.appendChild(this._wordCount),this.editor._node.parentNode.insertBefore(e,this.editor._node.nextSibling),this._hideWordCount(),this.get("host").textarea.on(["change","input","paste","keyup"],this._updateWordCount,this),this.editor.on(["focus","input","keyup"],this._showWordCount,this),this.editor.on("blur",this._hideWordCount,this)},_updateWordCount:function(){var e=this._figureOutWordCount(this.editor._node.innerText);this._wordCount.textContent=M.util.get_string("wordcount",n)+" "+e},_showWordCount:function(){this._updateWordCount(),this._wordCount.parentNode.style.display="block"},_hideWordCount:function(){setTimeout(function(){this._wordCount.parentNode.style.display="none"}.bind(this),200)},_figureOutWordCount:function(e){var t=0,n=e.trim().split(/\s/);for(var r=0;r<n.length;r++)n[r]&&t++;return t}},{ATTRS:{capability:{value:!1}}})},"@VERSION@",{requires:["moodle-editor_atto-plugin","moodle-core-event"]});
